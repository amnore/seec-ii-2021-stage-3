# 需求规格说明模板

## 1. 引言

### 1.1 目的

### 1.2 范围

### 1.3 参考文献

## 2. 总体描述

### 2.1 项目前景

#### 2.1.1 背景与机遇

#### 2.1.2 业务需求

### 2.2 项目功能

### 2.3 用户特征

### 2.4 约束

### 2.5 假设与依赖

## 3 详细需求描述

### 3.1 对外接口需求

#### 3.1.1 用户界面

#### 3.1.2 通信接口

### 3.2 功能需求

#### 3.2.1 UC1 查看讨论区

##### 3.2.1.1 特征描述

用户可在一门课程的讨论区页面查看这门课程讨论区中发表的贴子。相关要求与功能参见 UC1。

##### 3.2.1.2 刺激/响应序列

- 刺激：用户打开讨论区页面  
  响应：系统以默认方式展示讨论区贴子
- 刺激：用户选择贴子排序方式  
  响应：系统按照对应的排序方式展示贴子
- 刺激：用户点击上一页或下一页按钮  
  响应：系统展示上一页或下一页贴子

##### 3.2.1.3 相关功能需求

|                功能名称                |                                                功能描述                                                |
| :------------------------------------: | :----------------------------------------------------------------------------------------------------: |
|             ViewPosts.Show             | 用户打开讨论区页面时，系统以默认方式展示讨论区贴子，展示内容包括贴子发布时间、标题、发布者名称、回复数 |
|         ViewPosts.PreviousPage         |                                用户点击上一页按钮时，系统展示上一页贴子                                |
|           ViewPosts.NextPage           |                                用户点击下一页按钮时，系统展示下一页贴子                                |
|    ViewPosts.SortByPostTimeInverse     |                        用户选择“按照发表时间倒序”时，系统按照该方式分页展示贴子                        |
| ViewPosts.SortByLastCommentTimeInverse |                          用户选择“按照最新回复”时，系统按照该方式分页展示贴子                          |
|         ViewPosts.NoMorePages          |                            在没有上一页/下一页贴子时，系统禁止点击对应按钮                             |
|          ViewPosts.LoadError           |                    若加载贴子出现错误或超时，系统提示“加载贴子出现错误，请刷新页面”                    |
|         ViewPosts.AccessDenied         |                       若用户无权限查看贴子，系统提示“您无权查看贴子”并返回上一页                       |

注：

1. 默认以发表时间倒序的方式分页展示贴子
2. 每一页最多展示 10 条贴子
3. 加载超时时间为 3 秒
4. 有权限查看贴子的用户参见 UC1

#### 3.2.2 UC2 发布帖子

##### 3.2.1.1 特征描述

⽤户可以在课程讨论区发表帖⼦。相关要求与功能参见 UC2。

##### 3.2.1.2 刺激/响应序列

- 刺激：用户在课程讨论区点击**`发布帖子`**按钮
  响应：系统跳转到帖子编辑页面
- 刺激：用户填写帖子的主题和内容，填写完成后点击**`发布`**按钮
  响应：系统跳转到用户发布的帖子的内容页

##### 3.2.1.3 相关功能需求

|       功能名称        |                                         功能描述                                         |
| :-------------------: | :--------------------------------------------------------------------------------------: |
|   CreatePost.Click    |              用户在课程讨论区点击**`发布帖子`**按钮后系统跳转到帖子编辑页面              |
|    CreatePost.Edit    | 用户填写完帖子的标题和内容后并点击**`发布`**按钮后系统保存帖子的信息并跳转到帖子的内容页 |
| CreatePost.PostError  |    用户未完整填写帖子的标题和内容后并点击**`发布`**按钮，系统提示“请完整填写帖子信息”    |
| CreatePost.LoadError  |      若加载帖子编辑页或内容页出现错误或超时，系统提示“加载贴子出现错误，请刷新页面”      |
| CreatePost.EditDenied |                若用户无权限发布贴子，系统提示“您无权发布贴子”并返回上一页                |

#### 3.2.3 UC3 查看帖子

##### 3.2.1.1 特征描述

⽤户可以在课程讨论区查看帖⼦。相关要求与功能参见 UC3。

##### 3.2.1.2 刺激/响应序列

- 刺激：用户在课程讨论区点击某个帖子的标题
  响应：系统跳转到用户选中的帖子的内容页
- 刺激：用户鼠标滑动到页面最底部
  响应：系统加载更多的回帖

##### 3.2.1.3 相关功能需求

|       功能名称        |                               功能描述                               |
| :-------------------: | :------------------------------------------------------------------: |
|    ViewPost.Click     | 用户在课程讨论区点击某个帖子的标题后系统跳转到用户选中的帖子的内容页 |
|   ViewPost.LoadMore   |             用户鼠标滑动到页面最底部时系统加载更多的回帖             |
|  ViewPost.NoMorePost  |         没有更多的回帖时系统在页面底部提示“没有更多的回帖了”         |
|  ViewPost.LoadError   |   若加载贴子出现错误或超时，系统提示“加载贴子出现错误，请刷新页面”   |
| ViewPost.AccessDenied |      若用户无权限查看贴子，系统提示“您无权查看贴子”并返回上一页      |

#### 3.2.29 UC29 评论帖子

##### 3.2.29.1 特征描述

购买了课程的⽤户/创建课程的教师⽤户可以回复帖⼦的内容、发表评论。被回复者会收到帖⼦/评论被回复的通知。相关要求与功能参见 UC29。

##### 3.2.29.2 刺激/响应序列

- 刺激：用户编辑评论内容并确认
  响应：系统检查评论字数是否超过 1000 字，不超过则提示评论成果，否则提示字数超出限制、评论失败
- 刺激：用户评论成功
  响应：系统通知被回复/评论者收到评论

##### 3.2.29.3 相关功能需求

|        功能名称         |             功能描述             |
| :---------------------: | :------------------------------: |
|      Comment.Edit       |       系统允许用户编辑评论       |
|     Comment.Confirm     |       系统允许用户确认评论       |
| Comment.CheckWordCount  | 系统检查评论字数是否超过 1000 字 |
|     Comment.Success     |       系统提示用户评论成功       |
| Comment.WordCountExceed |     系统提示用户评论超过限制     |
|     Comment.Inform      |       系统通知用户收到评论       |

#### 3.2.5 查看回帖通知

##### 3.2.1.1 特征描述

用户发表的帖子或评论得到回复后，需要能够及时收到通知

##### 3.2.1.2 刺激/响应序列

- 刺激：用户登录到主页
  响应：系统在个人中心显示有新消息
- 刺激：用户点击进入回帖通知页面  
  响应：系统按照时间顺序展示用户的回复内容和回复的贴子
- 刺激：用户点击`一键已读`按钮  
  响应：系统将所有帖子标注为已读
- 刺激：用户单独点击消息提示进入对应帖子  
  响应：系统展示相应帖子内容

##### 3.2.1.3 相关功能需求

|      功能名称       |                           功能描述                           |
| :-----------------: | :----------------------------------------------------------: |
|   Notice.ShowAll    |         用户打开主页面时，系统显示所有有新消息的提示         |
|     Notice.Show     |    用户打开所有回复时，系统以默认方式展示回复内容相关信息    |
| Notice.PreviousPage |       用户点击上一页按钮时，系统展示上一页内容相关信息       |
|   Notice.NextPage   |       用户点击下一页按钮时，系统展示下一页内容相关信息       |
| Notice.NoMorePages  |   在没有上一页/下一页内容相关信息时，系统禁止点击对应按钮    |
|   Notice.ReadAll    |    用户选择`一键已读`时，系统将所有消息回复标记为已读状态    |
|     Notice.Read     | 用户点击回复进入相应帖子后，系统将对于消息回复标记为已读状态 |

注：

1. 默认以发表时间倒序的方式分页展示回复信息
2. 每一页最多展示 10 条回复信息
3. 加载超时时间为 3 秒

### 3.3 非功能需求

#### 3.3.1 安全性

#### 3.3.2 可维护性

#### 3.3.3 易用性

#### 3.3.4 可靠性

#### 3.3.5 业务规则

#### 3.3.6 约束

### 3.4 数据需求

#### 3.4.1 数据定义

#### 3.4.2 默认数据

#### 3.4.3 数据格式要求

### 3.5 其他
